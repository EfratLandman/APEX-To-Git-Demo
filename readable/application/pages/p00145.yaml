---
# ====== Page: &P145_ACTIVITY. ===============================
id: 145
identification: 
  name: '&P145_ACTIVITY.'
  alias: ACTIVITY
  title: '&P145_ACTIVITY.'
  page-group: Activities # 20118172991301671398

appearance: 
  page-mode: Normal
  page-template: Marquee
  template-options: 
  - '#DEFAULT#'

navigation-menu: 
  override-user-interface-level: false

navigation: 
  cursor-focus: Do not focus cursor
  warn-on-unsaved-changes: false

javascript: 
  function-and-global-variable-declaration: var htmldb_delete_message='"DELETE_CONFIRM_MSG"';
  execute-when-page-loads: "$('dd.t-AVPList-value img').attr('style','max-height:250px;max-width:500px;');"

css: 
  inline: |
    .js-dynamicHideShowRegion { display: none }
    .apex-rds { visibility: hidden }
    .t-Report--cleanBorders .t-Report-colHead { border-bottom: 1px solid rgba(0, 0, 0, .05); background-color: #fcfcfc; color: #707070; font-weight: normal; padding-bottom: .8rem; padding-top: .8rem }
    .t-Report--cleanBorders .js-stickyTableHeader.is-stuck .t-Report-colHead { border-bottom: 0; }
    .t-Report--cleanBorders .t-Report-cell { border-top: 1px solid #F4F4F4; }

security: 
  authentication: Page Requires Authentication
  deep-linking: Application Default
  page-access-protection: Arguments Must Have Checksum
  form-auto-complete: On
  browser-cache: Application Default

session-management: 
  rejoin-sessions: Application Default

advanced: 
  enable-duplicate-page-submissions: Yes - Enable page to be re-posted
  reload-on-submit: Always

server-cache: 
  caching: Disabled

configuration: 
  build-option: Activities # 18145131398503251597

regions: 
- # ====== Region: References ==================================
  id: 17967405315866373342
  identification: 
    name: References
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      select rf.id,
          c.id customer_id,
          c.customer_name,
          ct.name contact_name,
          nvl(a.activity_date, rf.activity_date) activity_date,
          nvl(a.owner, rf.owner) owner,
          nvl(a.location, rf.location) location,
          rf.contact_id
      from eba_cust_activities a,
          eba_cust_activity_ref rf,
          eba_cust_customers c,
          eba_cust_contacts ct
      where a.id = :P145_ID
          and rf.activity_id = a.id
          and c.id = rf.customer_id
          and ct.id(+) = rf.contact_id
      order by lower(c.customer_name), lower(ct.name)

  layout: 
    sequence: 10
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard
    template-options: 
    - '#DEFAULT#'
    - t-Region--noPadding
    - js-showMaximizeButton
    - t-Region--hiddenOverflow
    css-classes: 
    - js-dynamicHideShowRegion
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: true
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 15

    appearance: 
      template-type: Theme
      template: Standard
      template-options: 
      - '#DEFAULT#'
      - t-Report--stretch
      - t-Report--altRowsDefault
      - t-Report--rowHighlight
      - t-Report--inline
      show-null-values-as: '-'

    pagination: 
      type: Row Ranges 1-15 16-30 in select list (with pagination)
      display-position: Bottom - Right
      partial-page-refresh: true

    performance: 
      lazy-loading: false

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: false
      sort-nulls: Last

    heading: 
      type: Custom Headings

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: ID ==========================================
    id: 17967405408841373343
    identification: 
      column-name: ID
      type: Hidden

    layout: 
      sequence: 1

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: CUSTOMER_ID =================================
    id: 17967405516150373344
    identification: 
      column-name: CUSTOMER_ID
      type: Hidden

    layout: 
      sequence: 2

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: CUSTOMER_NAME ===============================
    id: 17967405625690373345
    identification: 
      column-name: CUSTOMER_NAME
      type: Link

    heading: 
      heading: Customer
      alignment: start

    layout: 
      sequence: 3
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    link: 
      target: 
        url: 'f?p=&APP_ID.:50:&SESSION.::&DEBUG.:RP:P50_ID:#CUSTOMER_ID#'
        page: 50 # Customer
        clear-cache: RP
        values: 
          p50_id: '#CUSTOMER_ID#'

      link-text: '#CUSTOMER_NAME#'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: CONTACT_NAME ================================
    id: 17967405706102373346
    identification: 
      column-name: CONTACT_NAME
      type: Plain Text

    heading: 
      heading: Contact
      alignment: start

    layout: 
      sequence: 4
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: ACTIVITY_DATE ===============================
    id: 18175154450938378797
    identification: 
      column-name: ACTIVITY_DATE
      type: Plain Text

    heading: 
      heading: Activity date
      alignment: start

    layout: 
      sequence: 7
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    appearance: 
      format-mask: fmDay, fmDD fmMonth, YYYY

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select null
        from eba_cust_activities
        where id = :P145_ID
            and activity_date is null

    security: 
      escape-special-characters: true

  - # ====== Column: OWNER =======================================
    id: 18175154575733378798
    identification: 
      column-name: OWNER
      type: Plain Text

    heading: 
      heading: Owner
      alignment: start

    layout: 
      sequence: 5
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select null
        from eba_cust_activities
        where id = :P145_ID
            and owner is null

    security: 
      escape-special-characters: true

  - # ====== Column: LOCATION ====================================
    id: 18175154701718378799
    identification: 
      column-name: LOCATION
      type: Plain Text

    heading: 
      heading: Location
      alignment: start

    layout: 
      sequence: 6
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select null
        from eba_cust_activities
        where id = :P145_ID
            and location is null

    security: 
      escape-special-characters: true

  - # ====== Column: CONTACT_ID ==================================
    id: 18175158874131378841
    identification: 
      column-name: CONTACT_ID
      type: Hidden

    layout: 
      sequence: 8

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

- # ====== Region: Page Actions ================================
  id: 18174312241446166840
  identification: 
    name: Page Actions
    type: List

  source: 
    list: Activity Actions # 18180316984716956256

  layout: 
    sequence: 120
    parent-region: No Parent
    slot: REGION_POSITION_03
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard
    template-options: 
    - '#DEFAULT#'
    - t-Region--noPadding
    - t-Region--hideHeader
    - t-Region--stacked
    - t-Region--hiddenOverflow
    - t-Form--stretchInputs
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: listPageActions
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    appearance: 
      list-template: Links List
      template-options: 
      - '#DEFAULT#'
      - t-LinksList--actions
      - t-LinksList--showIcons

- # ====== Region: Region display selector =====================
  id: 18174312586742166842
  identification: 
    name: Region display selector
    type: Region Display Selector

  layout: 
    sequence: 30
    parent-region: No Parent
    slot: REGION_POSITION_02
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      mode: View Single Region
      display-region-icons: false
      include-'show-all': true
      remember-selection: No

- # ====== Region: Hidden Items ================================
  id: 18174326628494166854
  identification: 
    name: Hidden Items
    type: Static Content

  layout: 
    sequence: 10
    parent-region: No Parent
    slot: REGION_POSITION_02
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Blank with Attributes
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Attachments =================================
  id: 18174335721752166876
  identification: 
    name: Attachments
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      select id,
          '<a href="'||apex_util.get_blob_file_src('P64_FILE_BLOB',id)||'">'||apex_escape.html(f.file_name)||'</a>' file_name,
          f.file_mimetype,
          f.file_charset,
          apex_util.filesize_mask(dbms_lob.getlength(f.file_blob)) f_len,
          substr(f.file_comments,1,50)||decode(greatest(length(nvl(f.file_comments,' ')),50),50,null,'...') file_comments,
          case when instr(upper(f.file_name),'.PPT') > 0or instr(upper(f.file_name),'.PPTX') > 0 then
              'uFileIcon powerpoint'
          when instr(upper(f.file_name),'.XLS') > 0 or instr(upper(f.file_name),'.XLSX') > 0 then
              'uFileIcon excel'
          when instr(upper(f.file_name),'.DOC') > 0 or instr(upper(f.file_name),'.DOCX') > 0 then
              'uFileIcon word'
          when instr(upper(f.file_name),'.PDF') > 0 then
              'uFileIcon pdf'
          when instr(upper(f.file_name),'.GIF') > 0 or
               instr(upper(f.file_name),'.PNG') > 0 or
               instr(upper(f.file_name),'.TIFF') > 0 or
               instr(upper(f.file_name),'.JPG') > 0 then
              'uFileIcon image'
          else
              'uFileIcon generic'
          end file_type,
          f.created,
          lower(f.created_by) created_by
      from eba_cust_activity_files f
      where f.activity_id = :P145_ID
      order by f.created desc;

  layout: 
    sequence: 20
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard
    template-options: 
    - '#DEFAULT#'
    - t-Region--noPadding
    - js-showMaximizeButton
    - t-Region--hiddenOverflow
    css-classes: 
    - js-dynamicHideShowRegion
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: rptAttachments
    region-display-selector: true
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 15

    appearance: 
      template-type: Theme
      template: Standard
      template-options: 
      - '#DEFAULT#'
      - t-Report--stretch
      - t-Report--staticRowColors
      - t-Report--rowHighlight
      - t-Report--noBorders
      css-classes: 
      - t-Report--cleanBorders
      show-null-values-as: ' - '

    pagination: 
      type: No Pagination (Show All Rows)
      partial-page-refresh: true

    performance: 
      lazy-loading: false
      maximum-rows-to-process: 500

    messages: 
      when-no-data-found: No attachments found

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: true
      sort-nulls: Last

    heading: 
      type: Custom Headings

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: ID ==========================================
    id: 18174336146183166877
    identification: 
      column-name: ID
      type: Link

    heading: 
      heading: <span class="u-VisuallyHidden">Edit</span>
      alignment: start

    layout: 
      sequence: 1
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    link: 
      target: 
        url: 'f?p=&APP_ID.:114:&SESSION.::&DEBUG.:RP,114:P114_ACTIVITY_ID,P114_ID:&P50_ID.,#ID#'
        page: 114 # Activity Attachment
        clear-cache: RP,114
        values: 
          p114_activity_id: '&P50_ID.'
          p114_id: '#ID#'

      link-text: <img src="#IMAGE_PREFIX#app_ui/img/icons/apex-edit-pencil.png" class="apex-edit-pencil" alt="">

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: FILE_NAME ===================================
    id: 18174336505907166878
    identification: 
      column-name: FILE_NAME
      type: Plain Text

    heading: 
      heading: Name
      alignment: start

    layout: 
      sequence: 3
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: false

  - # ====== Column: FILE_MIMETYPE ===============================
    id: 18174336922217166878
    identification: 
      column-name: FILE_MIMETYPE
      type: Hidden

    layout: 
      sequence: 8

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: FILE_CHARSET ================================
    id: 18174337253548166878
    identification: 
      column-name: FILE_CHARSET
      type: Hidden

    layout: 
      sequence: 9

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: F_LEN =======================================
    id: 18174337709476166879
    identification: 
      column-name: F_LEN
      type: Plain Text

    heading: 
      heading: Size
      alignment: end

    layout: 
      sequence: 4
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: FILE_COMMENTS ===============================
    id: 18174338094909166879
    identification: 
      column-name: FILE_COMMENTS
      type: Plain Text

    heading: 
      heading: Description
      alignment: start

    layout: 
      sequence: 5
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: FILE_TYPE ===================================
    id: 18174338477098166880
    identification: 
      column-name: FILE_TYPE
      type: Hidden

    layout: 
      sequence: 2

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: CREATED =====================================
    id: 18174338946523166880
    identification: 
      column-name: CREATED
      type: Plain Text

    heading: 
      heading: Added
      alignment: end

    layout: 
      sequence: 6
      column-alignment: end

    accessibility: 
      value-identifies-row: false

    appearance: 
      format-mask: SINCE

    column-formatting: 
      html-expression: '#CREATED# &middot; #CREATED_BY#'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: CREATED_BY ==================================
    id: 18174339302660166880
    identification: 
      column-name: CREATED_BY
      type: Plain Text

    heading: 
      heading: Added By
      alignment: start

    layout: 
      sequence: 7
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Never

    security: 
      escape-special-characters: true

- # ====== Region: Activity ====================================
  id: 18174344140757166887
  identification: 
    name: Activity
    type: Classic Report

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      select a.id,
          a.type_id,
          a.name,
          a.description,
          a.activity_date,
          a.owner,
          a.location,
          a.created,
          lower(a.created_by) created_by,
          a.updated,
          lower(a.updated_by) updated_by,
          (   select count(*)
              from eba_cust_activity_ref rf
              where rf.activity_id = a.id ) references
      from eba_cust_activities a
      where a.id = :P145_ID

  layout: 
    sequence: 20
    parent-region: No Parent
    slot: REGION_POSITION_02
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Blank with Attributes
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: CUSTOMERS
    region-display-selector: false
    exclude-title-from-translation: false

  server-cache: 
    caching: Disabled

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    layout: 
      number-of-rows-type: Static Value
      number-of-rows: 15

    appearance: 
      template-type: Theme
      template: Value Attribute Pairs - Column
      template-options: 
      - '#DEFAULT#'
      - t-AVPList--leftAligned
      css-classes: 
      - t-Report--cleanBorders

    pagination: 
      type: No Pagination (Show All Rows)
      partial-page-refresh: true

    performance: 
      lazy-loading: false
      maximum-rows-to-process: 500

    messages: 
      when-no-data-found: no data found

    break-formatting: 
      break-columns: No Break

    advanced: 
      strip-html: false
      sort-nulls: Last

    heading: 
      type: Custom Headings

    download: 
      csv-export-enabled: false

    printing: 
      enabled: false

  columns: 
  - # ====== Column: NAME ========================================
    id: 17967404607563373335
    identification: 
      column-name: NAME
      type: Plain Text

    heading: 
      heading: Name
      alignment: start

    layout: 
      sequence: 6
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: DESCRIPTION =================================
    id: 17967404746389373336
    identification: 
      column-name: DESCRIPTION
      type: Plain Text

    heading: 
      heading: Description
      alignment: start

    layout: 
      sequence: 7
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: ACTIVITY_DATE ===============================
    id: 17967404751119373337
    identification: 
      column-name: ACTIVITY_DATE
      type: Plain Text

    heading: 
      heading: Activity date
      alignment: start

    layout: 
      sequence: 8
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select null
        from eba_cust_activities
        where id = :P145_ID
            and activity_date is not null

    security: 
      escape-special-characters: true

  - # ====== Column: OWNER =======================================
    id: 17967404873861373338
    identification: 
      column-name: OWNER
      type: Plain Text

    heading: 
      heading: Owner
      alignment: start

    layout: 
      sequence: 9
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select null
        from eba_cust_activities
        where id = :P145_ID
            and owner is not null

    security: 
      escape-special-characters: true

  - # ====== Column: LOCATION ====================================
    id: 17967405024045373339
    identification: 
      column-name: LOCATION
      type: Plain Text

    heading: 
      heading: Location
      alignment: start

    layout: 
      sequence: 10
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    server-side-condition: 
      type: Rows returned
      sql-query: |
        select null
        from eba_cust_activities
        where id = :P145_ID
            and location is not null

    security: 
      escape-special-characters: true

  - # ====== Column: CREATED_BY ==================================
    id: 17967405138735373340
    identification: 
      column-name: CREATED_BY
      type: Hidden

    layout: 
      sequence: 14

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: REFERENCES ==================================
    id: 17967405151595373341
    identification: 
      column-name: REFERENCES
      type: Plain Text

    heading: 
      heading: References
      alignment: start

    layout: 
      sequence: 12
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: CREATED =====================================
    id: 18174347319030166903
    identification: 
      column-name: CREATED
      type: Plain Text

    heading: 
      heading: Created
      alignment: start

    layout: 
      sequence: 13
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    appearance: 
      format-mask: SINCE

    column-formatting: 
      html-expression: '#CREATED# by <i>#CREATED_BY#</i>'

    sorting: 
      sortable: false

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: ID ==========================================
    id: 18174358815226166974
    identification: 
      column-name: ID
      type: Hidden

    layout: 
      sequence: 1

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: TYPE_ID =====================================
    id: 18174359575177166977
    identification: 
      column-name: TYPE_ID
      type: Plain Text (based on List of Values)

    heading: 
      heading: Type
      alignment: start

    layout: 
      sequence: 2
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    list-of-values: 
      type: Shared Component
      list-of-values: ACTIVITY TYPES # 18152115336441604601

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: UPDATED =====================================
    id: 18174360429683166980
    identification: 
      column-name: UPDATED
      type: Plain Text

    heading: 
      heading: Updated
      alignment: start

    layout: 
      sequence: 15
      column-alignment: start

    accessibility: 
      value-identifies-row: false

    appearance: 
      format-mask: Since

    column-formatting: 
      html-expression: '#UPDATED# by <i>#UPDATED_BY#</i><!-- <button type="button" class="t-Button t-Button--icon t-Button--small t-Button--iconRight" onclick="f?p=&APP_ID.:117:&APP_SESSION.:::RP:P117_ID:#ID#"><span class="t-Button-label">View History</span><span class="t-Icon t-Icon--right fa fa-external-link" aria-hidden="true"></span></button>-->'

    sorting: 
      sortable: true

    export-/-printing: 
      include-in-export-/-print: true

    advanced: 
      compute-sum: false

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

  - # ====== Column: UPDATED_BY ==================================
    id: 18174360809869166982
    identification: 
      column-name: UPDATED_BY
      type: Hidden

    layout: 
      sequence: 16

    ui-defaults-reference: 
      table-owner: Parsing Schema

    security: 
      escape-special-characters: true

- # ====== Region: Breadcrumb ==================================
  id: 18174362358414166987
  identification: 
    name: Breadcrumb
    type: Breadcrumb

  source: 
    breadcrumb: Breadcrumb # 17846316725464931233

  layout: 
    sequence: 80
    parent-region: No Parent
    slot: REGION_POSITION_01
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Title Bar
    template-options: 
    - '#DEFAULT#'
    - t-BreadcrumbRegion--useBreadcrumbTitle
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    appearance: 
      breadcrumb-template: Breadcrumb
      template-options: 
      - '#DEFAULT#'

page-items: 
- # ====== Page Item: P145_ID ==================================
  id: 18174326966569166855
  identification: 
    name: P145_ID
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 20
    region: Hidden Items # 18174326628494166854
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Checksum Required - Session Level
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P145_ACTIVITY ============================
  id: 18175154847149378800
  identification: 
    name: P145_ACTIVITY
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 30
    region: Hidden Items # 18174326628494166854
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: SQL Query (return single value)
    sql-query: |
      select name
      from eba_cust_activities
      where id = :P145_ID
    used: Always, replacing any existing value in session state

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Checksum Required - Session Level
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

buttons: 
- # ====== Button: POPATTACHMENT ===============================
  id: 18174339669075166881
  identification: 
    button-name: POPATTACHMENT
    label: Add Attachment

  layout: 
    sequence: 90
    region: Attachments # 18174335721752166876
    slot: EDIT
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Icon
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    icon: fa-plus

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:64:&SESSION.::&DEBUG.:RP,64:P64_CUSTOMER_ID:&P145_ID.'
      page: 64 # Customer Attachment
      clear-cache: RP,64
      values: 
        p64_customer_id: '&P145_ID.'

    warn-on-unsaved-changes: Do Not Check

  security: 
    authorization-scheme: CONTRIBUTION RIGHTS # 15972854363341898699

- # ====== Button: VIEW_ATTACHMENTS ============================
  id: 18174340130696166881
  identification: 
    button-name: VIEW_ATTACHMENTS
    label: View Attachments

  layout: 
    sequence: 100
    region: Attachments # 18174335721752166876
    slot: EDIT
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Icon
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    icon: fa-chevron-right

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:52:&SESSION.::&DEBUG.:52:P52_ID:&P145_ID.'
      page: 52 # Customer Attachments
      clear-cache: 52
      values: 
        p52_id: '&P145_ID.'

    warn-on-unsaved-changes: Do Not Check

- # ====== Button: RELOAD ======================================
  id: 18174362748957166988
  identification: 
    button-name: RELOAD
    label: Reload

  layout: 
    sequence: 1
    region: Breadcrumb # 18174362358414166987
    slot: CREATE
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text with Icon
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--iconLeft
    icon: fa-undo

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:&APP_PAGE_ID.:&SESSION.::&DEBUG.:RP::'
      page: '&APP_PAGE_ID.'
      clear-cache: RP

    warn-on-unsaved-changes: Do Not Check

- # ====== Button: EDIT ========================================
  id: 18174363241866166988
  identification: 
    button-name: EDIT
    label: Edit Activity

  layout: 
    sequence: 110
    region: Breadcrumb # 18174362358414166987
    slot: CREATE
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text
    hot: true
    template-options: 
    - '#DEFAULT#'

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:56:&SESSION.::&DEBUG.:RP,56:P56_ID:&P145_ID.'
      page: 56 # Activity Details
      clear-cache: RP,56
      values: 
        p56_id: '&P145_ID.'

    warn-on-unsaved-changes: Do Not Check

  security: 
    authorization-scheme: CONTRIBUTION RIGHTS # 15972854363341898699

dynamic-actions: 
- # ====== Dynamic Action: Handle Show / Hide Content Regions ==
  id: 18174388481220167036
  identification: 
    name: Handle Show / Hide Content Regions

  execution: 
    sequence: 10
    event-scope: Static

  when: 
    event: Page Load

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 18174389008105167037
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        (function() {
          function toggleRegion() {
              var $region = $(this)
                noDataFound = $region.find('.nodatafound').length === 1;
              
              //triggering after hide/show because that what the RDS response to
              if (noDataFound) {
                $region.hide();
                $region.trigger('apexafterhide');
              } else {
                $region.show();
                $region.trigger('apexaftershow');
              }
          }
          
          function initHIdeShowRegions() {
            var $regions = $('.js-dynamicHideShowRegion'),
              $rds = $('.apex-rds');
        
            $regions
              .each(toggleRegion)
              .on('apexafterrefresh', toggleRegion);
         
            //using visiblity over display to avoid DOM movement issues
            $rds.css('visibility', 'visible');
          } 
        
          //using load because document.ready here goes before the RDS has added its listeners
          $(window).on('theme42ready',initHIdeShowRegions);
        }())

    execution: 
      sequence: 10
      event: Handle Show / Hide Content Regions # 18174388481220167036
      fire-when-event-result-is: True
      fire-on-initialization: true

- # ====== Dynamic Action: Refresh Page Regions on dialog close 
  id: 18174391189809167040
  identification: 
    name: Refresh Page Regions on dialog close

  execution: 
    sequence: 110
    event-scope: Static
    type: Immediate

  when: 
    event: Dialog Closed
    selection-type: Region
    region: Page Actions # 18174312241446166840

  actions: 
  - # ====== Action: Refresh =====================================
    id: 18174392180749167041
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Attachments # 18174335721752166876

    execution: 
      sequence: 20
      event: Refresh Page Regions on dialog close # 18174391189809167040
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Refresh Attachments =================
  id: 18174395491568167044
  identification: 
    name: Refresh Attachments

  execution: 
    sequence: 80
    event-scope: Static
    type: Immediate

  when: 
    event: Dialog Closed
    selection-type: Region
    region: Page Actions # 18174312241446166840

  actions: 
  - # ====== Action: Refresh =====================================
    id: 18174395991702167044
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Attachments # 18174335721752166876

    execution: 
      sequence: 10
      event: Refresh Attachments # 18174395491568167044
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Refresh Page ========================
  id: 18175154913607378801
  identification: 
    name: Refresh Page

  execution: 
    sequence: 120
    event-scope: Static
    type: Immediate

  when: 
    event: Dialog Closed
    selection-type: Button
    button: EDIT # 18174363241866166988

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 18175154985601378802
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: location.reload();

    affected-elements: 
      selection-type: Region
      region: Breadcrumb # 18174362358414166987

    execution: 
      sequence: 10
      event: Refresh Page # 18175154913607378801
      fire-when-event-result-is: True
      fire-on-initialization: false

computations: 
- # ====== Computation: P145_ACTIVITY ==========================
  id: 18174384783250167024
  identification: 
    item-name: P145_ACTIVITY

  execution: 
    sequence: 10
    point: Before Header

  computation: 
    type: SQL Query (return single value)
    sql-query: |
      select name
      from eba_cust_activities
      where id = :P145_ID

- # ====== Computation: LAST_VIEW ==============================
  id: 18174385170779167026
  identification: 
    item-name: LAST_VIEW

  execution: 
    sequence: 20
    point: Before Header

  computation: 
    type: Static Value
    static-value: 145

processes: 
- # ====== Process: Count Clicks ===============================
  id: 18174385879517167028
  identification: 
    name: Count Clicks
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      insert into eba_cust_clicks (cust_id) values (:P145_ID);
      delete from eba_cust_clicks where view_timestamp < (sysdate - 90);
      commit;

  execution: 
    sequence: 60
    point: Before Header
    run-process: Once Per Page Visit (default)

